# [py21-project-book-parser](https://t.me/pyproj_icba_bot)
Это проект по программированию трёх студентов ФиКЛа НИУ ВШЭ.
Он представляет из себя бота, умеющего парсить художественную литературу, находить в ней имена персонажей, рассчитывать связи между ними и визуализировать эти связи в виде HTML-графа.

## Режимы парсера
Первый - вывод данных по заданному пользователем списку персонажей.
Второй - вывод всех найденных имён и ручная сортировка имён пользователем (а также ввод кастомных частотности упоминания и веса связи между персонажами).
Третий - вывод частотности персонажей по главам, страницам или другим обозначенным кускам текста.

## Архитектура бота
![Схема бота](https://raw.githubusercontent.com/WadjetEyeTheSpy/py21-project-book-parser/main/bot_scheme.png)

## FAQ: что происходит на каждом из этапов
На каждом этапе первым шагом пользователь кидает текст в формате .txt, кодировке UTF-8.
### Первый режим
- пользователь выбирает разделитель абзацев (либо отступ, либо новая строка)
- рассказывает боту, какое количество взаимодействий между персонажами должно пойти в граф
- вбивает кастомные имена персонажей и ждёт граф. 
Результат: csv-файл и ссылка на html-файл.

### Второй режим
- пользователь задаёт, сколько раз имя должно встретиться в тексте, чтобы быть значимым для графа 
- ждёт, получает список предполагаемых имён, вручную вводит те, которые ему интересны
- рассказывает боту, какое количество взаимодействий между персонажами должно пойти в граф
- ждёт. 
Результат: csv-файл и ссылка на html-файл.

### Третий режим: 
- пользователь выбирает разделитель текста (кастомный для разбивки на главы, части, книги и так далее по указанному слову)
- указывает количество персонажей для каждого куска текста
- указывает, хочет ли он, чтобы бот предпринял попытку угадать главного героя текста. 
Результат: txt-файл.

## FAQ: а это ещё что такое?!
На разных этапах бот может попросить такие штуки как:
- вес связи - это количество взаимодействий между персонажами.
- разделитель - это штука, которая разделяет абзацы текста, например, отступ (Tab) или новая строка.
В режиме 2, если вы хотите, чтобы какие-то два имени учитывались как обозначения одного персонажа, вводите их через нижнее подчеркивание (вот это \_). Но имейте в виду, что лучше не делать так для, например, фамилий или именований типа Mr, потому что тогда все фамилии/именования в тексте будут приписаны одному персонажу. 


## Распределение обязанностей
1. Логика обработки литературы, создание парсера - [Дарья Харламова](https://github.com/harlamovads)
2. Визуализация получаемых данных, написание кода бота - [Алиса Лёзина](https://github.com/WadjetEyeTheSpy)
3. Архитектура бота, написание кода бота - [Алёна Муравьёва](https://github.com/Alhassliebe)

## [Нужные для локального запуска модули](https://github.com/WadjetEyeTheSpy/py21-project-book-parser/blob/main/requirements.txt)
